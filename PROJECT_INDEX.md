# 中間管理職負荷測定研究 - プロジェクト構成

## プロジェクト概要

本プロジェクトは、エージェントベースモデリングを用いて、IT企業組織における中間管理職への負荷集中メカニズムを解明し、組織構造最適化手法を提案する研究です。

---

## ディレクトリ構成

```
SampleAgent/
├── PROJECT_INDEX.md              # このファイル（プロジェクト全体のナビゲーション）
├── README.md                     # プロジェクト概要・セットアップ方法
├── CLAUDE.md                     # AI開発支援用の設定ファイル
│
├── docs/                         # 研究計画・理論文書
│   ├── RESEARCH_PLAN.md          # 詳細研究計画書
│   ├── RESEARCH_SUMMARY.md       # 研究計画サマリー（1ページ版）
│   └── STUDY.md                  # 研究背景・方法論
│
├── simulations/                  # シミュレーション実験
│   ├── hierarchy_comparison/     # 階層数比較実験
│   └── branches_comparison/      # 分岐数比較実験
│
├── experiments/                  # 実験用コード・レガシー
│   └── legacy/                   # 過去のコード
│
├── research_simulation.py        # コアシミュレーションエンジン
└── [画像ファイル]                # 可視化結果

```

---

## 📁 各ディレクトリの詳細

### 1. `docs/` - 研究計画・理論文書

研究の背景、目的、方法論を記載した文書群

| ファイル | 内容 | ページ数 |
|---------|------|---------|
| `RESEARCH_PLAN.md` | 詳細な研究計画書（背景、方法論、期待される成果） | 10ページ相当 |
| `RESEARCH_SUMMARY.md` | 研究計画の1ページサマリー版 | 1ページ |
| `STUDY.md` | 研究の理論的背景と実装計画 | 5ページ相当 |

**こんな時に参照**:
- 研究全体の目的を確認したい
- 研究方法論を理解したい
- 学会発表や論文執筆の準備

---

### 2. `simulations/hierarchy_comparison/` - 階層数比較実験

**研究質問**: 組織の階層数が増えると、負荷分布はどう変化するか？

#### 含まれるファイル

| ファイル | 内容 |
|---------|------|
| `HIERARCHY_REPORT.md` | 4階層・5階層・7階層の比較レポート |

#### 主要な発見

1. **負荷ピーク深さの法則**: `負荷ピーク深さ = 総階層数 - 2`
2. **階層増加の効果**: 個別ノード負荷は減少（4層→7層で-88%）
3. **構造的問題**: 階層を増やしても、特定階層への負荷集中は継続

#### 実験条件
- **階層数**: 4階層、5階層、7階層
- **分岐数**: 2（固定）
- **試行回数**: 各1,000回

---

### 3. `simulations/branches_comparison/` - 分岐数比較実験

**研究質問**: 1人の上長が管理する部下数（分岐数）が変わると、負荷分布はどう変化するか？

#### 含まれるファイル

| ファイル | 内容 |
|---------|------|
| `BRANCHES_COMPARISON_REPORT.md` | 分岐数2・5・10の比較レポート |
| `simulation_branches_5.py` | 分岐数5のシミュレーションコード |
| `simulation_branches_10_adjusted.py` | 分岐数10のシミュレーションコード |

#### 主要な発見

1. **負荷パターンの逆転**:
   - 分岐数2（少人数チーム）: 下層中間管理職に負荷集中
   - 分岐数10（大人数チーム）: 上層経営層に負荷集中

2. **最適分岐数の示唆**: 3-5程度が負荷集中と組織複雑性のバランスが良い

3. **組織規模の影響**: 極端に大きい組織は負荷が分散しすぎる

#### 実験条件
- **分岐数**: 2、5、10
- **階層数**: 7階層（分岐数10は計算量制約で4階層）
- **試行回数**: 各1,000回

---

### 4. `experiments/legacy/` - レガシーコード

初期開発時の実験コードや、現在使用していない古いバージョンのコード

| ファイル | 内容 |
|---------|------|
| `main.py` | 初期の情報伝達モデル（現在は`research_simulation.py`に統合） |

---

## 🔧 コアファイル（ルートディレクトリ）

### `research_simulation.py` - シミュレーションエンジン

全ての実験で使用される中核的なシミュレーションシステム

#### 主要クラス

1. **`MovingAgent`**: グラフ上を移動するエージェント
2. **`OrganizationGraph`**: 組織構造を表現するグラフ
3. **`MovementRuleEngine`**: エージェント移動ルール（3種類）
4. **`ResearchSimulator`**: シミュレーション実行・分析

#### 実装されている機能
- ✅ 3種類の移動ルール（階層依存、権限制約、負荷回避）
- ✅ 6種類の組織構造パターン
- ✅ ノード訪問回数の追跡
- ✅ 中心性指標の計算
- ✅ 統計分析機能

---

## 📊 実験結果サマリー

### 階層数の影響

| 階層数 | ノード数 | 最大負荷位置 | 最大負荷値 |
|--------|---------|-------------|-----------|
| 4階層 | 15 | TechLead (depth=2) | 238.51回 |
| 5階層 | 31 | TechLead (depth=3) | 116.56回 |
| 7階層 | 127 | Senior (depth=5) | 28.95回 |

### 分岐数の影響

| 分岐数 | ノード数 | 最大負荷位置 | 最大負荷値 |
|--------|---------|-------------|-----------|
| 2 | 127 | Senior (depth=5) | 28.95回 |
| 5 | 19,531 | CEO (depth=0) | 0.52回 |
| 10 | 1,111 | CEO (depth=0) | 42.09回 |

---

## 🎯 研究の核心的発見

### 発見1: 負荷ピーク深さの法則
$$\text{負荷ピーク深さ} = \text{総階層数} - 2$$
（分岐数2の場合のみ成立）

### 発見2: 分岐数による負荷パターン変化
- **少人数チーム**: 下層中間管理職に集中
- **大人数チーム**: 上層経営層に集中

### 発見3: 階層増加の限界
単純な階層増加では構造的な負荷集中問題は解決されない

---

## 🚀 次のステップ

### 未実施の実験
1. 中間管理職複数配置の効果検証
2. 他の移動ルール（権限制約、負荷回避）での比較
3. チームサイズ変更の詳細分析
4. 理論的中心性指標と実測負荷の相関分析

### 実装予定の機能
- 可視化ツール（負荷ヒートマップ）
- 統計的検定機能
- 最適化アルゴリズム

---

## 📖 使い方ガイド

### 研究計画を理解したい
1. `README.md` - プロジェクト概要
2. `docs/RESEARCH_SUMMARY.md` - 1ページサマリー
3. `docs/RESEARCH_PLAN.md` - 詳細計画

### 実験結果を確認したい
- **階層数の影響**: `simulations/hierarchy_comparison/HIERARCHY_REPORT.md`
- **分岐数の影響**: `simulations/branches_comparison/BRANCHES_COMPARISON_REPORT.md`

### 新しい実験を実施したい
1. `research_simulation.py` を参照
2. `simulations/branches_comparison/simulation_branches_5.py` をテンプレートとして使用

---

## 📞 開発者向け情報

### 環境セットアップ
```bash
# 仮想環境の有効化
source .venv/bin/activate

# 依存関係インストール
pip install networkx matplotlib numpy
```

### シミュレーション実行例
```bash
# 分岐数5のシミュレーション
python simulations/branches_comparison/simulation_branches_5.py

# コアエンジンの直接実行（デフォルト設定）
python research_simulation.py
```

---

**最終更新**: 2025年8月23日
**プロジェクト開始**: 2025年7月
**研究期間**: 2025年8月 - 2026年3月（予定）