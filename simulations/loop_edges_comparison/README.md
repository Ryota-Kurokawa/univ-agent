# 最下層ループエッジ追加実験

## 研究質問
最下層にループエッジ（同階層間の接続）を追加すると、負荷分布はどう変化するか？

## 実験の動機
従来の階層構造（木構造）では、特定の中間管理職に負荷が集中することが判明した。
最下層に横断的な接続を追加することで、負荷分散効果を検証する。

## グラフ構造

### ベースライン（木構造）
```
        CEO
       /   \
     CTO   CTO
     / \   / \
   ... ... ... ...
    |   |   |   |
    J   J   J   J  (Junior: 最下層)
```

### ループエッジ追加版
```
        CEO
       /   \
     CTO   CTO
     / \   / \
   ... ... ... ...
    |   |   |   |
    J---J---J---J  (Junior: リング状に接続)
```

## 実験条件
- **階層数**: 7階層
- **分岐数**: 2, 5
- **試行回数**: 各1,000回
- **移動ルール**: 階層依存ルール

## 主要な発見

### 分岐数2の劇的な効果

| 指標 | ベースライン | ループあり | 変化率 |
|------|-------------|-----------|--------|
| Senior負荷 | 28.95回 | 18.05回 | **-37.7%** |
| Junior負荷 | 11.98回 | 19.19回 | **+60.1%** |
| 負荷ピーク | Senior | **Junior** | 移動 |

**結論**: 中間管理職（Senior）の負荷を約40%削減、負荷ピークが最下層に移動

### 分岐数5の限定的効果

組織が大規模すぎて、ループエッジの効果は限定的。全階層で低負荷のまま。

## 実務への応用

### 有効な施策例
1. **同階層エンジニア間の定期ミーティング**
2. **クロスチーム勉強会**
3. **ピアレビュー制度**
4. **末端層のSlackチャンネル共有**

### 期待効果
- 中間管理職への相談・報告の集中を緩和
- 末端層での問題解決能力向上
- 情報共有の効率化

## 含まれるファイル

- `LOOP_EDGES_REPORT.md` - 詳細な比較レポート
- `simulation_loop_branches_2.py` - 分岐数2のシミュレーション
- `simulation_loop_branches_5.py` - 分岐数5のシミュレーション

## 実行方法

### 分岐数2
```bash
cd /path/to/SampleAgent
source .venv/bin/activate
python simulations/loop_edges_comparison/simulation_loop_branches_2.py
```

### 分岐数5
```bash
python simulations/loop_edges_comparison/simulation_loop_branches_5.py
```

## 注意事項

- 最下層ノード数は分岐数の累乗で増加（分岐2なら64個、分岐5なら15,625個）
- ループエッジはリング状に配置（各ノードが両隣と接続）
- 大規模組織では計算時間が増加